name: Deploy to importanceleadership.com
on:
  push:
    branches: [ main ]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: SamKirkland/FTP-Deploy-Action@4.3.0
      with:
        server: '31.170.161.26'  # Using IP since DNS may not be ready
        username: 'u677171043'  # Your FTP username
        password: ${{ secrets.FTP_PASSWORD }}  # Still use secret for password
        local-dir: './'
        server-dir: '/public_html/'
        exclude: |
          .git*
          .github/*
          README.md
        # Additional reliability settings:
        dangerous-clean-slate: false
        ftp-timeout: 120
